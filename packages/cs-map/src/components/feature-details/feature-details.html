<div>
    <v-toolbar>
        <v-toolbar-title class="feature-details-title"
            >{{ title }}
            <div>
                <a @click="openLayer(layer)" class="subheading">{{
                    layer.title
                }}</a>
            </div>
        </v-toolbar-title>

        <v-spacer></v-spacer>
        <v-tooltip bottom v-if="tabs === 'details'">
            <template v-slot:activator="{ on }">
                <v-btn
                    @click="filterPropertiesEnabled = !filterPropertiesEnabled"
                    icon
                    v-on="on"
                >
                    <v-icon>search</v-icon>
                </v-btn>
            </template>
            filter details
        </v-tooltip>
        <v-tooltip bottom>
            <template v-slot:activator="{ on }">
                <v-btn v-on="on" icon @click="centerFeature()">
                    <v-icon>map</v-icon>
                </v-btn>
            </template>
            show on map</v-tooltip
        >
        <template v-slot:extension>
            <v-tabs
                right
                v-model="tabs"
                slider-color="yellow"
                background-color="transparent"
            >
                <v-tab href="#feature-details">Details</v-tab>
                <!-- <v-tab href="#filters">Filter</v-tab> -->
            </v-tabs>
        </template>
    </v-toolbar>

    <div style="position:absolute;top:125px;bottom:0;left:0;right:0">
        <v-tabs-items id="feature-properties-tab" v-model="tabs" flat>
            <v-tab-item value="feature-details">
                <v-text-field
                    solo
                    v-if="filterPropertiesEnabled"
                    class="layer-filter-field"
                    v-model="filterProperties"
                    label="filter"
                    append-icon="search"
                ></v-text-field>
                <div v-if="widget.data">
                    <v-expansion-panels
                        multiple
                        v-model="sectionsPanels"
                        class="section-expansion-panel"
                    >
                        <v-expansion-panel v-for="section in sections">
                            <v-expansion-panel-header
                                class="feature-section-title"
                                v-if="sections.length>1"
                            >
                                {{ section.title }}
                            </v-expansion-panel-header>
                            <v-expansion-panel-content>
                                <div
                                    v-for="property in section.properties"
                                    class="feature-property"
                                >
                                    <div
                                        class="feature-property-key"
                                        :class="{ 'feature-legend': property.legends.length>0 }"
                                    >
                                        <!-- @click="updateStyle(property)" -->
                                        {{ property.type.title }}
                                    </div>
                                    <div class="feature-property-value">
                                        {{ property.display }}
                                    </div>
                                </div>
                            </v-expansion-panel-content>
                        </v-expansion-panel>
                    </v-expansion-panels>
                </div>
            </v-tab-item>
            <!-- <v-tab-item value="filters"> <h1>items</h1> </v-tab-item> -->
        </v-tabs-items>
    </div>
</div>
