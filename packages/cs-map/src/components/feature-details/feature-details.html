<simplebar>
    <v-toolbar tabs :color="layerColor">
        <v-toolbar-title class="feature-details-title"
            >{{ title }}
            <div>
                <a @click="openLayer(layer)" class="subheading">{{
                    layer.title
                }}</a>
            </div>
        </v-toolbar-title>

        <v-spacer></v-spacer>
        <v-tooltip bottom v-if="tabs === 'details'">
            <v-btn @click="filterPropertiesEnabled = !filterPropertiesEnabled" icon v-slot:activator="{ on }"> <v-icon>search</v-icon> </v-btn>
            filter details
        </v-tooltip>
        <v-tooltip bottom>
            <v-btn v-slot:activator="{ on }" icon @click="centerFeature()">
                <v-icon>map</v-icon>
            </v-btn>
            show on map</v-tooltip
        >
        <v-tabs right color="transparent" slot="extension" v-model="tabs">
            <v-tab href="#details">Details</v-tab>
            <!-- <v-tab href="#filters">Filter</v-tab> -->
        </v-tabs>
    </v-toolbar>

    <div style="position:absolute;top:125px;bottom:0;left:0;right:0">
        <v-tabs-items id="feature-properties-tab" v-model="tabs">
            <v-tab-item value="details">
                <v-text-field
                    solo
                    v-if="filterPropertiesEnabled"
                    class="layer-filter-field"
                    v-model="filterProperties"
                    label="filter"
                    append-icon="search"
                ></v-text-field>
                <div v-if="widget.data">
                    <v-expansion-panel
                        expand
                        v-model="sectionsPanels"
                        class="section-expansion-panel"
                    >
                        <v-expansion-panel-content v-for="section in sections">
                            <div
                                slot="header"
                                class="feature-section-title"
                                v-if="sections.length>1"
                            >
                                {{ section.title }}
                            </div>
                            <div class="section">
                                <div
                                    v-for="property in section.properties"
                                    class="feature-property"
                                >
                                    <div
                                        class="feature-property-key"
                                        :class="{ 'feature-legend': property.legends.length>0 }"
                                        @click="updateStyle(property)"
                                    >
                                        {{ property.type.title }}
                                    </div>
                                    <div class="feature-property-value">
                                        {{ property.display }}
                                    </div>
                                </div>
                            </div>
                        </v-expansion-panel-content>
                    </v-expansion-panel>
                </div>
            </v-tab-item>
            <!-- <v-tab-item value="filters"> <h1>items</h1> </v-tab-item> -->
        </v-tabs-items>
    </div>
</simplebar>
