<SplitGrid class="split-grid-comp" v-if="options && options.elements" v-bind="splitGridOptions" :direction="getDirection(options.direction)">
  <template v-for="(element, idx) in options.elements">
    <SplitGridArea
      :key="idx"
      :sizeValue="element.size"
      :render="!element.hide"
      :sizeUnit="element.sizeUnit"
      :expandToMin="element.expandToMin"      
    >
      <cs-widget v-if="element.widgetId" :widget="getWidget(element.widgetId, dashboard)"></cs-widget>
      <cs-dashboard v-if="element.dashboardId" :dashboard="getDashboard(element.dashboardId, dashboard)"></cs-dashboard>
      <!-- next level -->
      <SplitGrid
        class="split-grid-comp"
        v-if="element.splitpanel && element.splitpanel.elements"
        :direction="getDirection(element.splitpanel.direction)"
        :render="!element.hide"
      >
        <template v-for="(el, id) in element.splitpanel.elements">
          <SplitGridArea
            :key="id"
            :sizeValue="el.size"            
            :render="!el.hide"
            :sizeUnit="el.sizeUnit"
            :expandToMin="element.expandToMin"
          >
            <cs-widget v-if="el.widgetId" :widget="getWidget(el.widgetId, dashboard)"></cs-widget>
            <cs-dashboard v-if="el.dashboardId" :dashboard="getDashboard(el.dashboardId, dashboard)"></cs-dashboard>
            <!-- next level -->
            <SplitGrid
              class="split-grid-comp"
              :render="!el.hide"
              v-if="el.splitpanel && el.splitpanel.elements && (!allHidden(el.splitpanel) || el.hide)"
              :direction="getDirection(el.splitpanel.direction)"
            >
              <template v-for="(ell, idd) in el.splitpanel.elements">
                <SplitGridArea :key="idd" :render="!ell.hide" :sizeValue="ell.size" :sizeUnit="ell.sizeUnit" :expandToMin="element.expandToMin">
                  <cs-widget v-if="ell.widgetId" :widget="getWidget(ell.widgetId, dashboard)"></cs-widget>
                  <cs-dashboard v-if="ell.dashboardId" :dashboard="getDashboard(ell.dashboardId, dashboard)"></cs-dashboard>
                  <!-- next level -->
                  <SplitGrid
                    class="split-grid-comp"
                    :render="!ell.hide"
                    v-if="ell.splitpanel && ell.splitpanel.elements && (!allHidden(ell.splitpanel) || ell.hide)"
                    :direction="getDirection(ell.splitpanel.direction)"
                  >
                    <template v-for="(elll, iddd) in el.splitpanel.elements">
                      <SplitGridArea
                        :key="iddd"
                        :render="!elll.hide"
                        :sizeValue="elll.size"
                        :sizeUnit="elll.sizeUnit"
                        :expandToMin="element.expandToMin"
                      >
                        <cs-widget v-if="elll.widgetId" :widget="getWidget(elll.widgetId, dashboard)"></cs-widget>
                        <cs-dashboard v-if="elll.dashboardId" :dashboard="getDashboard(elll.dashboardId, dashboard)"></cs-dashboard>
                      </SplitGridArea>
                      <SplitGridGutter v-if="!elll.hide && elll !== ell.splitpanel.elements[ell.splitpanel.elements.length-1]" />
                    </template>
                  </SplitGrid>
                </SplitGridArea>

                <SplitGridGutter :render="!ell.hide && ell !== el.splitpanel.elements[el.splitpanel.elements.length-1]" />
              </template>
            </SplitGrid>
          </SplitGridArea>
          <SplitGridGutter :render="!el.hide && el !== element.splitpanel.elements[element.splitpanel.elements.length-1]" />
        </template>
      </SplitGrid>
    </SplitGridArea>
    <SplitGridGutter :render="!element.hide && element !== options.elements[options.elements.length-1]" />
  </template>
</SplitGrid>
