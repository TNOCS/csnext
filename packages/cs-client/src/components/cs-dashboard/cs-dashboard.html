<v-layout column>
  <v-flex shrink>
    <v-toolbar dense flat secondary class="dashboard-toolbar" v-if="showToolbar()">
      <v-toolbar-title>{{ $cs.Translate(dashboard.title) }}</v-toolbar-title>
      <template
        v-slot:extension
        v-if="dashboard.parent && dashboard.parent.options.toolbar && dashboard.parent.options.toolbar.navigation"
      >
        <template v-if="dashboard.parent.options.toolbar.navigation === 'stepper'">
          <v-stepper
            :value="selectedStepper"
            class="dashboard-stepper"
            non-linear
          >
            <v-stepper-header>
              <template v-for="(item, index) in dashboard.parent.dashboards">
                <v-stepper-step
                  :key="index"
                  :step="index + 1"
                  editable
                  @click="selectStepperDashboard(item)"
                  >{{ $cs.Translate(item.title) }} </v-stepper-step
                ><v-divider></v-divider
              ></template>
            </v-stepper-header>
          </v-stepper>
        </template>
        <template
          v-else-if="dashboard.parent.options.toolbar.navigation=== 'tabs'"
        >
          <v-tabs color="transparent" v-model="selectedTab">
            <template v-for="(item, index) in dashboard.parent.dashboards">
              <v-tab @click="selectStepperDashboard(item)" :key="index">
                <v-icon v-if="item.icon">{{ item.icon }}</v-icon>
                {{ $cs.Translate(item.title) }}
              </v-tab>
            </template>
          </v-tabs>
        </template>
      </template>
    </v-toolbar>
  </v-flex>

  <v-flex grow style="height:1px"><!-- https://stackoverflow.com/questions/14962468/flexbox-and-vertical-scroll-in-a-full-height-app-using-newer-flexbox-api -->
    <component
      v-show="!dashboard._loading"
      :is="component"
      :dashboard="dashboard"
      :id="'dashboard-' + dashboard.id"
      class="dashboard-content"
      :class="dashboard.options.class"
    ></component>
  </v-flex>
  <div v-if="dashboard.showLoadAnimation && dashboard._loading">
    {{ $t('IS_LOADING') }}
  </div>
</v-layout>
