<v-layout
  column
  @mouseenter="mouseEnter()"
  v-if="widget"
  v-show="widget.options && !widget.options.hide"
  @mouseleave="mouseLeave()"
  class="widget-container"
  :class="[widget.options.class, widgetBorder]"
  ref="widget"
  v-resize:debounce.50="onResize"
>
  <v-toolbar dense flat v-if="widget.options.showToolbar">
    <v-toolbar-title>{{ $cs.Translate(widget.options.title) }}</v-toolbar-title>
    <v-spacer></v-spacer>
    <v-menu
      v-for="menu in widget.options.menus"
      :key="menu.id"
      v-if="menu.visible"
    >
      <template v-slot:activator="{ on, attrs }">
        <v-btn icon @click.delegate="triggerMenuAction(menu)" v-on="on">
          <v-icon>{{ menu.icon }}</v-icon>
        </v-btn>
      </template>
    </v-menu>
  </v-toolbar>
  <component
    :is="widget.component"
    :widget="widget"
    class="widget-default"
    :style="widgetStyles()"
  ></component>
  <div
    v-if="mouseOver && !widget.options.showToolbar && widget.options.menus"
    class="widget-buttons-container"
  >
    <v-menu
      v-for="menu in widget.options.menus"
      :key="menu.id"
      v-if="menu.visible"
    >
      <template v-slot:activator="{ on, attrs }">
        <v-btn icon @click.delegate="triggerMenuAction(menu)" v-on="on">
          <v-icon>{{ menu.icon }}</v-icon>
        </v-btn>
      </template>
    </v-menu>
  </div>
</v-layout>
